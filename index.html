<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style id="Table_Product">
    table,
    tr,
    td,
    th {
        border: 1px solid black;
        border-collapse: separate;
        background-color: #53e237;
        width: auto;
    }

    th,
    td {
        padding: 10px;
    }

    td {
        text-align: center;
        background-color: #ffffff
    }

    body {
        background-color: #ffffff;
    }

    button {
        padding: 2px 20px;
    }
</style>

<body style="background-color:rgb(255, 255, 255)">
    <br><br><br><br>
    <br><br><br><br>
    <br><br><br><br>
    <center>
        <table id="daftar-user">
            <tr></tr>
            <tr></tr>
            <tr></tr>
            <tr></tr>
        </table>
        <br>
        <input type="number" id="putar">
        <button onclick="balikarah()" id="balikarah">LEFT</button>
        <button onclick="putar()" id="putar">RIGHT</button>
        <button id="reset" onclick="reset()">RESET</button>
    </center>
</body>
<script id="database">
    let data = [
        [1, 2, 3],
        [4, 5, 6],
        [7, 8, 9]
    ]
    function Table() {

        let tbody = document.getElementsByTagName("tr")
        console.log(tbody)


        for (let i = 0; i < data.length; i++) {
            let output = ""
            for (let j = 0; j < data.length; j++) {
                output += `<td>${data[i][j]}</td>`
            }
            tbody[i].innerHTML = output + `<td><button id="sort1" onclick="sort1(${i})"> SORT </button></td>`
        }
        tbody[3].innerHTML = `
        <td><button id="sort2" onclick="sort2(${0})"> SORT </button></td>
        <td><button id="sort2" onclick="sort2(${1})"> SORT </button></td>
        <td><button id="sort2" onclick="sort2(${2})"> SORT </button></td>
        <td></td>
        `
    }

    Table()


    function sort1(index) {
        console.log("button sort 1 di klik")
        let dataAngka = data[index]


        if (dataAngka[0] > dataAngka[2]) {
            dataAngka.sort((a, b) => a > b ? 1 : -1)
        } else {
            dataAngka.sort((a, b) => a > b ? -1 : 1)
        }
        console.log(data[index])
        Table()
    }

    function sort2(index) {
        console.log("button sort 2 di klik")
        let dataAngka = data[index]
        let rowAngka = []
        for (let i = 0; i < data.length; i++) {
            rowAngka.push(data[i][index])
        }


        if (rowAngka[0] > rowAngka[2]) {
            rowAngka.sort((a, b) => a > b ? 1 : -1)
        } else {
            rowAngka.sort((a, b) => a > b ? -1 : 1)
        }
        console.log(rowAngka[index])
        data[0][index] = rowAngka[0]
        data[1][index] = rowAngka[1]
        data[2][index] = rowAngka[2]

        Table()
    }

    function balikarah() {
        let putarAngka = Array(3).fill(0).map(i => i = Array(3).fill(0))
        data.reverse()
        for (let i = 0; i < data.length; i++) {
            for (let j = 2; j >= 0; j--) {
                putarAngka[j][i] = data[i][j]
            }
        }
        data = putarAngka
        Table()
    }

    function putar() {
        let putarAngka = Array(3).fill(0).map(i => i = Array(3).fill(0))
        for (let i = 0; i < data.length; i++) {
            for (let j = 2; j >= 0; j--) {
                putarAngka[j][i] = data[i][j]
            }
        }
        data = putarAngka.reverse()
        Table()
    }

    function reset() {
        data = [
            [1, 2, 3],
            [4, 5, 6],
            [7, 8, 9]
        ]

        Table()
    }


</script>

</html>